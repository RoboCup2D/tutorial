<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RoboCup2D Tutorial: Roles</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RoboCup2D Tutorial
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_sections__roles.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Roles </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Group of classes to determine the players roles and what they need to do according to their roles and the game strategy.</p>
<p>Each player has a <em>role</em> and this depends on each player position. In the Agend2D code, using the basic formation 4-3-3, the roles are:</p>
<img src="https://github.com/RoboCup2D/tutorial/raw/master/images/agent2d-basic-formation.png" alt="agent2d-basic-formation.png" class="inline"/>
<ul>
<li>1 Goalie - Goalkeepr</li>
<li>2 CenterBack (left)</li>
<li>3 CenterBack (right)</li>
<li>4 SideBack (left)</li>
<li>5 SideBack (right)</li>
<li>6 DefensiveHalf</li>
<li>7 OffensiveHalf (left)</li>
<li>8 OffensiveHalf (right)</li>
<li>9 SideForward (left)</li>
<li>10 SideForward (right)</li>
<li>11 CenterForward</li>
</ul>
<p>What do you need to implement is only the behavior of each <em>role</em> in a specific situation.</p>
<p>In the Agent2D, each <em>role</em> has only two methods: doKick() and doMove().</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span></div><div class="line">RoleCenterBack::execute( PlayerAgent * agent )</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> kickable = agent-&gt;world().self().isKickable();</div><div class="line">    <span class="keywordflow">if</span> ( agent-&gt;world().existKickableTeammate()</div><div class="line">         &amp;&amp; agent-&gt;world().teammatesFromBall().front()-&gt;distFromBall()</div><div class="line">         &lt; agent-&gt;world().ball().distFromSelf() )</div><div class="line">    {</div><div class="line">        kickable = <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> ( kickable )</div><div class="line">    {</div><div class="line">        doKick( agent );</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        doMove( agent );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --><p>The method above checks if the player with the ball possession can kick it to the goal and if the teammate distance to the ball is smaller than the player distance. If these two conditions are met, this means that the player can move with the ball. Otherwise, the player needs to pass the ball to the teammate.</p>
<p>Suppose that you want to perform a through pass. To do that, there is the Bhv_ThroughPassKick class which has the through pass implementation. We also want to perform this pass only with midfielder players (<em>role</em>: OffensiveHalf). Then, we need to go to the doKick method in the RoleOffensiveHalf class and check in which <em>BallArea</em> the player can execute this action.</p>
<p>Remember that, before you implement the behavior, you need to understand how the Strategy class works.</p>
<p>For example: </p><div class="fragment"><div class="line"><span class="comment">//[...]</span></div><div class="line"><span class="keywordflow">switch</span> ( Strategy::get_ball_area( agent-&gt;world().ball().pos() ) ) {</div><div class="line">    <span class="keywordflow">case</span> Strategy::BA_OffMidField:</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(Bhv_ThroughPassKick().execute(agent))</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">        <span class="comment">// other actions</span></div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="comment">//[...] case n:</span></div><div class="line">}</div></div><!-- fragment --><p>The player will only execut the through pass if the ball is in the offensive midfield (BA_OffMidField) and if the Bhv_ThroughPassKick's execute method returns true. That is, if the player can really execute this action. If the ball is in the BA_OffMidField area but the player has no condition of executing the pass through, then another action will be executed. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
